\documentclass[12pt,a4paper,russian,titlepage]{article}
\usepackage{amsfonts,latexsym,epsfig,longtable,wrapfig}

\textwidth=165mm

\footskip=23mm

\oddsidemargin=-1mm \evensidemargin=0pt \topmargin=0pt
\marginparwidth=0pt

%\usepackage{cmap}
\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[russian]{babel}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{mathrsfs}

\newcommand{\Sum}{\displaystyle\sum\limits}
\newcommand{\Max}{\max\limits}
\newcommand{\Min}{\min\limits}
\newcommand{\const}{{\mathrm{const}}}
\renewcommand{\le}{\leqslant}
\renewcommand{\ge}{\geqslant}
\newcommand{\tild}{\widetilde}
\newcommand{\floor}[1]{\left\lfloor{#1}\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil{#1}\right\rceil}

\newcommand{\Expect}{\mathsf{E}}
\newcommand{\EHR}{{\mathrm{EHR}}}
\newtheorem{Th}{Теорема}
\newtheorem{Lem}{Лемма}
\newtheorem{Utv}{Утверждение}
\newtheorem{Def}{Определение}
\newtheorem{theorem}{Теорема}

\DeclareMathOperator{\tr}{tr}

\begin{document}


\centerline{\bf{\large Когда не выполнен $k$-закон нуля или единицы?~\footnote{Работа выполнена при поддержке РФФИ (грант \No~13-01-00612 и грант \No~15-01-03530) и гранта Президента РФ MK-2184.2014.1.}}}
\vspace{0.5cm}
\centerline{{\large М.Е. Жуковский\footnote{Московский физико-технический институт (государственный университет), факультет инноваций и высоких технологий, кафедра дискретной математики}, А.Е. Медведева}}

\vspace{1cm}
\section {Введение.}

В данной работе изучаются предельные вероятности свойств первого порядка случайного графа в модели Эрдеша--Реньи $G(n,n^{-\alpha})$, где $\alpha\in(0,1]$. А именно, ищутся наибольшие значения $\alpha$, меньшие 1, при которых случайный граф $G(n,n^{-\alpha})$ не подчиняется так называемому $k$-закону нуля или единицы.

Перед тем как сформулировать результаты работы, дадим основные определения.
Пусть $n\in\mathbb{N}$, $p=p(n)\in(0,1)$. Рассмотрим множество $\Omega_n=\{G=(V_n,E)\}$ всех неориентированных графов без петель и кратных ребер с множеством вершин $V_n=\{1,...,n\}$. \emph{ Случайный граф в модели Эрдеша--Реньи} (см.~\cite{Janson},~\cite{Uspekhi}) --- это случайный элемент $G(n,p)$ со значениями во множестве $\Omega_n$ и распределением ${\sf P}_{n,p}$ на $(\Omega_n,\mathcal{F}_n)$, где
$\mathcal{F}_n=2^{\Omega_n},$ определенным формулой
$$
 {\sf P}_{n,p}(G)=p^{|E|}(1-p)^{C_n^2-|E|}, \quad\quad G\in\Omega_n.
$$
Будем считать, что все случайные графы заданы на одном и том же пространстве с вероятностной мерой ${\sf P}$.


Говорят, что случайный граф {\it подчиняется закону нуля или единицы} для класса свойств $\mathcal{C}$, если вероятность выполнения каждого свойства из этого класса стремится либо к $0$, либо к $1$. Рассмотрим класс $\mathcal{L}_k$ свойств, выражаемых формулами первого порядка с кванторной глубиной, ограниченной сверху числом $k$ (см.~\cite{Veresh}). Если случайный граф подчиняется закону нуля или единицы для
класса $\mathcal{L}_k$, то мы говорим, что он {\it подчиняется $k$-закону нуля или единицы} (см.~\cite{Uspekhi},~\cite{Zhuk_dan}---\cite{Zhuk_second}). В случае класса $\mathcal{L}$ всех свойств графов, выразимых на языке первого порядка, мы просто говорим о {\it законе нуля и единицы} (см.~\cite{Janson},~\cite{Uspekhi},~\cite{Shelah}---\cite{Fagin}).

Изучение законов нуля и единицы для случайных графов было начато в 1969 году Ю.В. Глебским, Д.И. Коганом,
М.И. Лиогоньким и В.А. Талановым. Они установили (а позже и независимо Р. Фагин в 1976 г.), что закон нуля и единицы вополняется, если  $\min\{p,1-p\}n^\alpha \rightarrow \infty $ для любого $\alpha > 0$ (см. \cite{Glebskii}, \cite{Fagin}). В 1988 году Дж.~Спенсер и С.~Шела распространили этот закон на $p = n^{-\alpha},$ $\alpha \in (0, \infty) \setminus \mathbb{Q}$ (см. \cite{Shelah}). Более того, они доказали, что при любом рациональном $\alpha\in(0,1]$ случайный граф $G(n,n^{-\alpha})$ закону нуля или единицы не подчиняется. В 2011 году М.Е. Жуковский доказал, что при $k\geq 3$ и $\alpha\in(0,1/(k-2))$ случайный граф $G(n,n^{-\alpha})$ подчиняется $k$-закону нуля или единицы. Но при этом если $\alpha=1/(k-2)$, то случайный граф $G(n,n^{-\alpha})$ не подчиняется $k$-закону нуля или единицы (см. \cite{Zhuk_dan}, \cite{Zhuk_law}). Что касается значений $\alpha,$ близких к единице, то установлено, что при $k\geq 4$ в точках вида $\alpha = 1 - \frac{1}{2^{k-1} + \beta}, $ где $\beta$ --- рациональная дробь с числителем, превосходящим $2^{k-1},$ $k$-закон нуля и единицы выполняется, если же $\beta$ --- неотрицательное целое число, не большее $2^{k-1} -2,$ то $k$-закон нуля и единицы не выполняется (см. \cite{Zhuk_first}). Наконец, в работе~\cite{Zhuk_second} доказано, что при $\beta\in\{2^{k-1}-1,2^{k-1}\}$ выполнен $k$-закон.

Из приведенных выше результатов следует, что остается открытым вопрос, подчиняется ли случайный граф $k$-закону нуля и единицы при $\alpha = 1 - \frac{1}{2^{k-1} + a/b},$ где
$a,b \in \mathbb{N}, a \leq 2^{k-1}, b \geq 2.$ В данной работе дается ответ при $a\in\{1,\ldots,2^{k-1} - 2(b+1)^2\}$ (разумеется, $b\leq\sqrt{2^{k-2}-1/2}-1$) и $k\geq 6$.

\begin{Th}
Пусть $k\geq 6,$ $\alpha = 1 - \frac{1}{2^{k-1} + a/b}$, где $a \in \{1, 2, ..., 2^{k-1} - (b+1)^2\}$. Тогда граф $G(n, n^{-\alpha})$ не подчиняется $k$-закону нуля и единицы.
\label{main}
\end{Th}

Из сформулированный теоремы следует, что при $b=2$ случайный граф $G(n,n^{-\alpha})$ не подчиняется $k$-закону при всех $a\in\{1,2,\ldots,2^{k-1}-18\}$.

%Мы установили, что в точках вида $1 - \frac{1}{2^{k-1} + \frac{a}{2}}$, где $a$ --- нечетное положительное число, меньшее $2^{k-1}-30, k \in \mathbb{N}, k > 5,$ не выполняется $k$-закон нуля и единицы. %В доказательстве используются метод, предложенный в совместной работе М.Е. Жуковского и Дж. Спенсера в 2014г. (см. \cite{smth_2015}).

%{\it Замечание.} Можно сформулировать аналогичное утверждение и для $k=5$, которое доказывается тем же образом что и теорема~\ref{main}. К сожалению, в этом случае удается получить только одно значение параметра $a$. А именно, при $\alpha=1-\frac{2}{33}$ случайный граф $G(n,n^{-\alpha})$ не подчиняется $5$-закону нуля или единицы.\\

%Размеется, если $a$ --- четное число, то, как было замечено выше, утверждение теоремы следует из ранее полученных результатов. Поэтому при доказательстве теоремы~\ref{main} мы будем рассматривать лишь случай нечетного числа $a$.
Прежде чем приступить к доказательству теоремы~\ref{main}, мы в разделе~\ref{EHR_game} определим необходимые инструменты и расскажем о распределении малых подграфов в случайном графе, а затем в разделе~\ref{proof_theorem} докажем теорему.


\section{Распределение малых подграфов.}\label{EHR_game}

Введем ряд обозначений, которые нам потребуются в дальнейшем. Пусть $X$ --- произвольный граф, $x,y$ --- две его вершины. Тогда обозначим $\mathrm{dist}_X(x,y)$ наименьшую длину пути в $X$, соединяющего вершины $x$ и
$y$. {\it Длиной} пути мы называем количество ребер в нем. В случае $x=y$ положим $\mathrm{dist}_X(x,y)=0$.
Для произвольного графа $G$ обозначим $v(G)$ число его вершин, $e(G)$ --- число его ребер, $a(G)$ --- число его автоморфизмов. {\it Плотность} графа $\frac{e(G)}{v(G)}$ обозначим $\rho(G)$.


Граф $G$ называется \emph{сбалансированным}, если для каждого его
подграфа $H$ выполнено неравенство $\rho(H)\leq \rho(G).$ Граф $G$
\emph{строго сбалансированный}, если для любого собственного подграфа  $H\subset G$
справедливо строгое неравенство $\rho(H)<\rho(G).$
%Сформулируем
%теорему (см. \cite{BolThreshold}--\cite{Bol}) о
%количестве копий строго сбалансированного графа.
%Пусть $N_G$ --- количество копий $G$ в случайном графе $G(n,p)$.
Сформулируем теорему (см. \cite{Janson},  \cite{Uspekhi}, \cite{BolThreshold}) о
количестве копий графа $G$ в случайном графе $G(n,p).$ %Обозначим эту случайную величину $N_G.$
Положим
$\rho^{\max}(G)=\max\{\rho(H):\,H\subseteq G\}.$\\

\begin{Th} [\cite{BolThreshold}] \label{first}
Пусть $G$ --- произвольный граф. Если $p=o\left(n^{-1/\rho^{\max}(G)}\right)$, то
$$
 \lim_{n\rightarrow\infty}{\sf P}(G(n,p)\supset G)=0.
$$
Если же $n^{-1/\rho^{\max}(G)}=o(p)$, то
$$
 \lim_{n\rightarrow\infty}{\sf P}(G(n,p)\supset G)=1.
$$
Пусть теперь $G$ --- строго сбалансированный граф. Если
$p = n^{-1/\rho(G)}, $то
$$
 \lim_{n\rightarrow\infty}{\sf P}(G(n,p)\supset G)=1-e^{-1/a(G)}.
$$

\label{erdos}
\end{Th}

С помощью этой теоремы, например, легко показать, что при $\alpha = 2/3$ не выполняется $4$-закон нуля и единицы.
Рассмотрим граф $K_{4}$: он строго сбалансированный, его плотность $3/2 = 1/\alpha.$ Очевидно, что свойство графа содержать $K_4$ можно записать формулой первого порядка с кванторной глубиной 4. По теореме \ref{first} выполнено $\lim\limits_{n\rightarrow\infty}{\sf P}(G(n,n^{-2/3})\supset K_4)=1-e^{-1/24}.$ Таким образом, случайный граф $G(n,n^{-2/3})$ не подчиняется $4$-закону нуля и единицы.



\section{Доказательство теоремы.}\label{proof_theorem}

Пусть $\tilde\Omega_n$ --- множество графов из $\Omega_n$, которые не содержат ни одного подграфа $H$ с $v(H)\leq 2(b+2)2^{k-2}$, $\rho(H)>1/\alpha$.\\


Докажем вспомогательную лемму. Будем обозначать за $\lceil t \rceil$, $t\in \mathbb{R},$ ближайшее к $t$ целое число, не меньшее $t$. За $\lfloor t \rfloor$, $t \in \mathbb{R}$, будем обозначать ближайшее к $t$ целое число, не большее $t$.

\begin{Lem}
Свойство $\mathrm{dist}_G(v_1,v_2) = i$ вершин $v_1$ и $v_2$ графа $G$ можно записать формулой с кванторной глубиной $\lceil\log_2 i\rceil$.
\label{lemma}
\end{Lem}
{\bf Доказательство.}
Свойство $\mathrm{dist}_G(v_1,v_2) = i$ можно записать с помощью следующей формулы:
$$
 D_i(v_1, v_2) := \left(P_i(v_1, v_2) \wedge \left(\bigwedge_{j = 1}^{i-1} (\neg P_j(v_1,v_2))\right)\right),
$$
где $P_j(v_1,v_2)$ --- формула (которую мы определим ниже), выражающая свойство графа содержать путь длины $j$ между $v_1$ и $v_2$. Так как кванторная глубина $D_i(v_1,v_2)$ равна максимальной из кванторной глубин $P_j(v_1,v_2),$ $j\in \{1,\dots,i\}$, достаточно показать, что формула $P_i(v_1,v_2)$ имеет кванторную глубину $\lceil\log_2 i\rceil.$

Докажем индукцией по $i$.

При $i = 1$ формула $P_{1}(v_1,v_2) := (v_1\sim v_2)$ имеет кванторную глубину 0.

Пусть предположение справедливо для $i - 1.$ Докажем для $i:$
$$
 P_i(v_1, v_2) := [\exists x\         (\underbrace{P_{\lceil i/2\rceil}(v_1, x)}_{\left\lceil \log_2 \left\lceil i/2 \right\rceil \right\rceil}        \wedge \underbrace{P_{\lfloor i/2\rfloor}(v_2, x)}_{\left\lceil \log_2\left\lfloor i/2\right\rfloor \right\rceil})].
$$
Получаем, что кванторная глубина $P_i(v_1, v_2)$ равна $1 + \lceil \log_2 \lceil i/2\rceil \rceil = \lceil\log_2 i\rceil$, что и требовалось доказать.\\

Введем еще несколько определений и обозначений.

%Пусть $L$ --- простой путь от некоторой вершины $v$ до некоторой вершины $u$. Рассмотрим упорядоченное множество его вершин, в котором вершины идут от $v$ до $u$ по ребрам. Для двух вершин $a,b$ из этого множества будем писать $a<^L b$, если $a$ в этом множестве находится ближе к $v$ чем $b$. Также мы будем писать $a\leq^L b$, если либо $a=b$, либо $a<^L b$.

Пусть $s,l\in\mathbb{N}$. Будем называть граф $G$ {\it арканом с параметрами $(s,l)$}, если $G=L\cup C$, где $L$ --- простой путь длины $s$ между некоторыми вершинами $v$ и $u$ графа $G$, $C$ --- простой цикл длины $l$, проходящий через вершину $u$, и $V(C)\cap V(L)=\{u\}$.


Будем называть граф $G = (V,E)$ \textit{двухпроходным графом, проходящим через вершину $v_1$}, если выполнено:
\begin{itemize}
 \item $G = L_1\cup L_2,$ где $L_1,L_2$ --- простые пути от вершины $v_1$ до вершины $v_2 \in V(G)$, при этом $e(L_1) = e(L_2) - 1$;
 \item для некоторых вершин $r_1,r_2$ графа $G$ справедливо $G=L^1\cup C\cup L^2$, где $L^1$ --- простой путь от вершины $v_1$ до вершины $r_1$, $L^2$ --- простой путь от вершины $r_2$ до вершины $v_2$, $C$ --- простой цикл, $V(L^1)\cap V(C)=\{r_1\}$, $V(C)\cap V(L^2)=\{r_2\}$, $V(L^1)\cap V(L^2)=\varnothing$, $L_1 \cap L_2=L^1\cup L^2$.%, $e(L^1)<\lceil\frac{e(L_2)}{2}\rceil$, $e(L^2)<\lfloor\frac{e(L_2)}{2}\rfloor$;

\end{itemize}


\textit{Длина двухпроходного графа} --- величина, равная $e(L_1) + e(L_2)$.

%\textit{Расстоянием} между вершиной $v$ и графом $G$ будем называть величину, равную: $\min\{\mathrm{dist}_G(v,\hat v), \hat v\in G\}.$
%Будем говорить, что двухпроходный граф $G$ \textit{проходит} через вершину $u$, если в определении двухпроходного графа $u = v_1.$ %\textit{Четным (нечетным)} циклом будем называть простой цикл четной (нечетной) длины.

Пусть $\mathcal{G}\in\tilde\Omega_n$.

Пусть $C_{2m+1}(v_1)$, $m\in \{1,\ldots,2^{k-3}-1\},$ --- формула, выражающая свойство графа $\mathcal{G}$ содержать двухпроходный граф длины $2m + 1$, проходящий через вершину $v_1$. Ее можно определить следующим образом: $C_{2m+1}(v_1)=(\exists v_2\,\,(\tilde C_{2m+1}(v_1,v_2)\vee \tilde C_{2m+1}(v_2,v_1)))$, где
$$
 \tilde C_{2i+1}(v_1,v_2)=
 \left(D_i(v_1,v_2)\wedge
 \left[\exists z\,\,\left(\left(D_{\lceil\frac{i+1}{2}\rceil}(v_1,z)\wedge D_{\lfloor\frac{i+1}{2}\rfloor}(z,v_2)\right)\vee\right.\right.\right.
$$
$$
 \left.\left.\left.\left(D_{\lceil\frac{i}{2}\rceil}(v_1,z)\wedge \tilde C_{2\lfloor\frac{i}{2}\rfloor+1}(z,v_2)\right)\right)\right]\right),\quad i\geq 2,
$$
$$
 \tilde C_3(v_1,v_2)=([v_1\sim v_2]\wedge[\exists z \,\,((v_1\sim z)\wedge(z\sim v_2))]).
$$
Для произвольной формулы $P$ будем обозначать $\mathrm{D}(P)$ кванторную глубину $P$. Очевидно, при $i\geq 2$ имеем
$$
 \mathrm{D}(\tilde C_{2i+1}(v_1,v_2))=\max\left\{\lceil\log_2 i\rceil,\lceil\log_2(i+1)\rceil,1+\mathrm{D}((\tilde  C_{2\lfloor\frac{i}{2}\rfloor+1}(v_1,v_2)))\right\}=
 \lceil\log_2(i+1)\rceil.
$$
Поэтому
\begin{equation}
\mathrm{D}(C_{2m+1}(v_1))=1+\lceil\log_2(m+1)\rceil.
\label{depth}
\end{equation}

Формула $C_{2m+1}(v_1)$ выражает свойство существования двух различных простых путей от вершины $v_1$ до вершины $v_2$ длин $m$ и $m+1$. Обозначим объединение таких путей $G$ и докажем, что в связном графе $G$ количество ребер не превосходит количества вершин. Предположим противное. Тогда плотность графа $G$ не меньше, чем
$$
 \frac{2m+1}{2m}=\frac{1}{1-\frac{1}{2m+1}}\geq\frac{1}{1-\frac{1}{2^{k-2}-1}}>\frac{1}{\alpha}.
$$
При этом $v(G)\leq 2m+1\leq 2^{k-2}-1$. Получили противоречие с определением множества $\tilde\Omega_n$. Следовательно, истинность формулы $C_{2m+1}(v_1)$ для графа $\mathcal{G}$ влечет существование в графе $\mathcal{G}$ двухпроходного графа длины $2m+1$, проходящего через вершину $v_1$. Если граф $\mathcal{G}$ содержит двухпроходной граф $G$ длины $2m+1$, проходящий через вершину $v_1$, а формула $C_{2m+1}(v_1)$ не является истинной, то в $\mathcal{G}$ существует такой подграф $\tilde G\supset G$, что $v(\tilde G)-v(G)<m$, $e(\tilde G)>v(\tilde G)$. Следовательно,
$$
 \rho(\tilde G) = 1 + \frac{e(\tilde G)-v(\tilde G)}{v(\tilde G)} \geq 1 + \frac{1}{3m}\geq 1 + \frac{1}{3\cdot 2^{k - 3} - 3} > \frac{1}{\alpha}.
$$
При этом $v(\tilde G)<3m\leq 3\cdot 2^{k-3}-3$. Получили противоречие. Таким образом, истинность формулы $C_{2m+1}(v_1)$ для графа $\mathcal{G}$ и существование в графе $\mathcal{G}$ двухпроходного графа длины $2m+1$, проходящего через вершину $v_1$, эквивалентны.


Определим формулу $T_{2m+1}^{p}(v_1)$, $m\in\{1,\ldots,2^{k-3}-1\}$, $p\in\mathbb{N}$, выражающую свойство графа содержать двухпроходный граф длины $2m+1$, который проходит через некоторую вершину $v_2$, находящуюся на расстоянии $p$ от $v_1$, при этом не существует двухпроходного графа длины не более $2m-1$, проходящего через вершину, находящуюся на расстоянии менее $p$ от вершины $v_1$. Не существует, кроме того, и двухпроходного графа длины $2m+1$, проходящего через вершину, находящуюся на расстоянии $p-1$ от вершины $v_1$ (и, следовательно, через вершину $v_2$ не проходит двухпроходных графов длины, меньшей $2m+1$, из чего, в свою очередь, следует, что существующий двухпроходный граф длины $2m+1$ является арканом). Запишем ее:
$$
 T_{2m+1}^{p} (v_1) =
 \left(\tilde T_{2m+1}^{p}(v_1) \wedge (\neg\tilde T_{2m-1}^{p}(v_1))\wedge(\neg\tilde T_{2m+1}^{p-1}(v_1))\wedge(\neg\tilde T_{2m-1}^{p+1}(v_1))\wedge(\neg\tilde T_{2m-1}^{p-1}(v_1))\right),
$$
где
$$
 \tilde T_{2m+1}^{p}(v_1) = \left(\exists v_2 \left( D_{p}(v_1,v_2) \wedge C_{2m+1}(v_2)\wedge\left(\bigwedge_{i=1}^{m-1}(\neg C_{2i+1}(v_2))\right)\right)\right).
$$
Заметим, что если для некоторой вершины $v_1$ графа $\mathcal{G}$ и некоторых $m\leq 2^{k-3}-1$, $p< 2^{k-2}$ истинна формула $T_{2m+1}^{p}(v_1)$, то граф $\mathcal{G}$ содержит вершину $v_2$, находящуюся на расстоянии $p$ от вершины $v_1$, путь $L$ длины $p$ от вершины $v_1$ до вершины $v_2$ и цикл $D$ длины $2m+1$, пересекающий $L$ только по вершине $v_2$ (иначе граф $L\cup D$ содержал бы более одного простого цикла и тогда его плотность превосходила бы $1/\alpha$, что противоречило бы определению множества $\tilde\Omega_n$).\\




Положим $a=2^{k-1}-2(b+1)^2-\eta$, где $\eta$ --- целое неотрицательное число, не превосходящее $2^{k-1}-2(b+1)^2$. Обозначим $m_i=2^{k-3}-i$ при $i\in\{1,\ldots,b+1\}$. Имеем
$$
 \frac{b}{1-\alpha}=b\cdot 2^{k-1}+a=(b+1)2^{k-1}-2(b+1)^2-\eta.
$$ 
Очевидно, найдутся такие $b+1$ натуральных чисел $p_1<\ldots<p_{b+1}<2^{k-2}$, что $p_{i+1}-p_i\geq 2$, $i\in\{1,\ldots,b\}$, и
$$
 p_1+\ldots+p_{b+1}=(b+1)2^{k-2}-(b+1)^2-\eta.
$$
Следовательно, $b\cdot 2^{k-1}+a=2m_1+1+\ldots+2m_{b+1}+1+p_1+\ldots+p_{b+1}$.

Запишем основную формулу:
$$
 Tr = \left( \exists v_1\ \left(T_{2m_1+1}^{p_1}(v_1)\wedge \ldots \wedge T_{2m_{b+1}+1}^{p_{b+1}}(v_1)\right)\right ).
$$

Используя лемму~\ref{lemma} и равенство~(\ref{depth}) , посчитаем кванторную глубину формулы $Tr$: $\mathrm{D}(Tr)$ не превосходит величины
$$
 1 +\max_{i\in\{1,\ldots,b+1\}}\mathrm{D}\left(T_{2m_i+1}^{p_i}(v_1)\right)\leq
 1+\max_{i\in\{1,\ldots,b+1\}}\max\{1+\lceil\log_2(p_i+1)\rceil,2+\lceil\log_2(m_i+1)\rceil \}=
$$ 
$$ 
 1+\max\{1+\lceil\log_2 2^{k-2}\rceil,2+\lceil\log_2(2^{k-3}-1+1)\rceil \}=k.
$$

Пусть граф $\mathcal{G}$ содержит подграф $F = F_1\cup F_2\cup\ldots\cup F_{b+1}$, где $F_1, F_2,\ldots, F_{b+1}$ есть арканы с параметрами $(p_1,2m_1+1)$, $(p_2,2m_2+1)$, $\ldots$, $(p_{b+1},2m_{b+1}+1)$ соответственно, при этом в каждом из множеств $V(F_i \cap F_j)$, $i\neq j \in \{1, \ldots ,b+1\}$, лежит единственая вершина $v$, которая также является единственной вершиной степени $1$ графов $F_1,F_2,\ldots,F_{b+1}$. Легко заметить, что граф $F$ является строго сбалансированным и $\rho(F)=1/\alpha$. Тогда формула $Tr$, очевидно, истинна. Действительно, в противном случае в графе $\mathcal{G}$ нашелся бы такой подграф $\tilde F\supset F$, что $v(\tilde F)-v(F)<2^{k-1}$ и $e(\tilde F)-e(F)>v(\tilde F)-v(F)$, но тогда $v(\tilde F)<2(b+2)2^{k-2}$ и $\rho(\tilde F)>1/\alpha$, что противоречит определению множества $\tilde\Omega_n$.\\

Пусть теперь для графа $\mathcal G$ формула $Tr$ истинна. Так как
$m_i\leq 2^{k-3}-1$ для всех $i\in\{1,\ldots,b+1\}$, то $\mathcal{G}$ содержит подграф $H = H_1 \cup H_2 \cup \ldots \cup H_{b+1},$ где $H_1, H_2, \ldots, H_{b+1}$ есть объединения простых путей $L_1,L_2,\ldots,L_{b+1}$ длин $p_1,\ldots,p_{b+1}$ соответственно, одной из концевых вершин каждой из которых является некоторая вершина $v_1$, и простых циклов $D_1,D_2,\ldots,D_{b+1}$ на $2m_1+1,2m_2+1,\ldots,2m_{b+1}+1$ вершинах сответственно, проходящих через вторые концевые вершины $v_2^1,\ldots,v_2^{b+1}$ путей $L_1,L_2,\ldots,L_{b+1}$ соответственно (и только через них). Более того, для каждой вершины $v_2^i$, $i\in\{1,\ldots,b+1\}$, не существует цикла, проходящего через нее и имеющего длину $2m_i-1$.


Предположим, что для некоторого $i\in\{2,\ldots,b+1\}$ выполнено  $V(H_i)\subset V(H_1\cup H_2\cup\ldots\cup H_{i-1})$. Тогда найдется такое число $j\in\{1,\ldots,i-1\}$, что $v_2^i\in V(D_j)$. Действительно, в противном случае $d_{\mathcal{G}}(v_2^i,v_1)<p_i$. Тогда через вершину $v_2^i$ проходит цикл длины $2m_j+1$ и цикл длины $2m_i+1$. Следовательно, $e(D_i\cup D_j)> v(D_i\cup D_j)$, $v(D_i\cup D_j)<2(m_i+m_j+1)$. Но в таком случае $\rho(D_i\cup D_j)>1+\frac{1}{2(2^{k-2}-1)}>\frac{1}{\alpha}$. Получили противоречие.  
Следовательно, $V(H_i)\cap V(H_1\cup H_2\cup\ldots\cup H_{i-1})\neq V(H_i)$. 

Так как все вершины (кроме $v_1$) графа $H_i$ имеют степень $2$, то
$v((H_1\cup H_2\cup\ldots\cup H_{i-1})\cap H_i)> e((H_1\cup H_2\cup\ldots\cup H_{i-1})\cap H_i),$
а, следовательно, величина $u_i:=v(H_1\cup H_2\cup\ldots\cup H_i)-v(H_1\cup H_2\cup\ldots\cup H_{i-1})$
меньше величины $e_i:=e(H_1\cup H_2\cup\ldots\cup H_i)-e(H_1\cup H_2\cup\ldots\cup H_{i-1}).$
Обозначим $u_1=v(H_1)$, $e_1=e(H_1)$. Тогда
$$
 \rho(H)=\frac{e_1+e_2+\ldots+e_{b+1}}{u_1+u_2+\ldots+u_{b+1}}=1+\frac{e_1-u_1+e_2-u_2+\ldots+
 e_{b+1}-u_{b+1}}{u_1+u_2+\ldots+u_{b+1}}\geq
$$
$$
  \geq 1+\frac{b}{1+2m_1+\ldots+2m_{b+1}+p_1+p_2+\ldots+p_{b+1}}=\frac{1}{\alpha}.
$$
Так как $v(H)\leq 2(b+1)\cdot 2^{k-2}$, то $\rho^{\max}(H) \leq 1/\alpha.$ Следовательно, $u_i=2m_i+1+p_i$ для любого $i\in\{1,2,\ldots,b+1\}$. Последнее верно тогда и только тогда, когда графы $H$ и $F$ изоморфны.\\

%Рассмотрим вершину $z$, соединенную ребром с вершиной $v_2$ в графе $L_1$. Так как $d_{L_1}(v_1,z)=2^{k-2}-1$, то вершина $z$ не может принадлежать ни графу $D_2$, ни графу $D_3$. Поэтому и ребро $\{z,v_2\}$ не может принадлежать ни графу $D_2$, ни графу $D_3$. Следовательно, это ребро принадлежит одной из цепей $L_2$ и $L_3$. Без ограничения общности будем считать, что оно принадлежит цепи $L_2$. Так как $d_{\mathcal{G}}(v_1,v_2)=2^{k-2}$, то $v_2\in V(D_2)\cap V(L_2)$, что снова противоречит истинности формулы $Tr$.






%Предположим, что $v(L_2\cap L_3) > 1.$ Обозначим $v(L_2 \cap L_3)$ за $n_v-1$, а $e(L_2 \cap L_3)$ --- за $n_e.$ Найдем такие $n_v, n_e,$ что выполнены соотношения
%\begin{equation}\label{rho_equation_start}
%\rho^{\max}(H) \geq\rho(H_2\cup H_3)=\frac{s_2 + s_3 + d_2 + d_3 - n_e}{s_2 + s_3 - 1 + d_2 + d_3 - n_v} > %\frac{3\cdot 2^{k-2} + 6l + \chi}{3\cdot 2^{k-2} + 6l + \chi-2} = 1/\alpha,
%\end{equation}
%где $\chi=3,-1,1$ в случаях {\bf 1}, {\bf 2}, {\bf 3} соответсвенно.

%В силу определения двупроходных графов выполнено неравенство $n_v\geq n_e$. Если $n_v>n_e$, то для выполнения неравенства~(\ref{rho_equation_start}) достаточно выполнения неравенства
%$$
% 3\cdot 2^{k-2} + 6l + \chi>s_2 + s_3 + d_2 + d_3 - n_e.
%$$
%Имеем
%$$
% 3\cdot 2^{k-2} + 6l + \chi>2^{k-1}+l_2+l_3-n_{e}>s_2 + s_3 + d_2 + d_3 - n_e.
%$$
%Итак, при $n_v>n_e$ справедливо~(\ref{rho_equation_start}).

%Так как $\rho^{\max}(H)\leq 1/\alpha$, то $n_v=n_e$. Очевидно, в этом случае $H_2, H_3$ могут пересекаться по цепи, содержащей вершину $v_1$, а также по простому циклу и, быть может, прилегающей к нему цепи (или только по цепи, содержащей вершину $v_1$). Предположим, что $H_1 \subset H_2\cup H_3$ (в этом случае, очевидно, $H_2, H_3$ пересекаются не только по цепи, содержащей вершину $v_1$). Очевидно, граф $H$ равен одному, из представленных на Рис.~\ref{pic}. Пусть $v_2$ --- вершина, находящася на расстоянии $2^{k-2}$ от вершины $v_1$ в этом графе. Пусть, более того, $\{v_2\}=V(L_1)\cap V(D_1)$. Если вершина $v_2$ принадлежит простому циклу графа $H_2$ (у графа $H_3$ тот же простой цикл), то, очевидно, либо $v_2$ совпадает с вершиной из $V(L_2)\cap V(D_2)$, либо в этом простом цикле найдется вершина, которая находится на меньшем расстоянии от $v_1$ в $H_2$, чем $v_2$. В последнем случае получаем противоречие с определением вершины $v_2$ и графов $L_1,D_1$. В первом случае длина простого цикла равна $2l+1$, но тогда длина двухпроходного графа $D_2$ равна $2l+5$ в случае {\bf 1} и $2l+9$ в случаях {\bf 2} и {\bf 3}. Снова получили противоречие. Следовательно, вершина $v_2$ не принадлежит простому циклу графа $H_2$. Без ограничения общности будем считать, что вершина $v_2$ принадлежит графу $H_2$. Тогда длина двухпроходного графа, проходящего через вершину $v_2$ и являющегося подграфом в $H_2$, равна $2l+1$, и, следовательно, снова получаем, что длина двухпроходного графа $D_2$ равна $2l+5$ в случае {\bf 1} и $2l+9$ в случаях {\bf 2} и {\bf 3}. Итак, $H_1\not \subset H_2\cup H_3$.

%\begin{wrapfigure}[10]{l}{177\unitlength}
%\vspace{1cm}\hspace{1cm} \includegraphics[width=20.0pt,height=25.0pt, bb=30 280 150 450] %{two_cycles_into_one.png}
%\vspace{1.2cm}
%\caption{Граф $H$}
%\label{pic}
% \end{wrapfigure}


%Пусть $w=v(H)-v(H_2\cup H_3)$. Так как у графа $H$ нет вершин степени $1$ (помимо вершины $v_1$), то $\rho(H)$ не меньше, чем
%$$
% \frac{s_2 + s_3 + d_2 + d_3 + w + 1 - n_e}{s_2 + s_3 - 1 + d_2 + d_3 - n_e + w}>
%$$
%$$
% >1+\frac{2}{3\cdot 2^{k-2}+6l+\chi-2}= \frac{1}{\alpha}.
%$$
%Действительно, так как $w\leq v(H_1)-1\leq s_1+l_1-1$, $n_e\geq 1$, то $s_2 + s_3 - 1 + d_2 + d_3 - n_e + w$ %не превосходит
%$$
% s_1 + s_2 + s_3 + l_1 + l_2 + l_3 - 3 = 3 \cdot 2^{k-2} + 6l + \chi - 3 < 3 \cdot 2^{k-2} + 6l + \chi - 2.
%$$
%Получили противоречие с $\rho^{\max}(H)\leq 1/\alpha$.  Следовательно, $v(L_2\cap L_3)=1$. Аналогично доказывается, что $v(L_1\cap L_2)=v(L_1\cap L_3)=1$. Очевидно, в этом случае $\rho^{\max}(H)=\rho(H)=1/\alpha$.\\


%Таким образом, во всех случаях, если в графе $H$ подграфы $H_1,H_2,H_3$ имеют пересечения помимо вершины $v$, то $\rho^{\max}(H) > 1/\alpha.$ Предположим, что хотя бы один из графов $D_1,D_2,D_3$ не является простым циклом.  Тогда для некоторого $x\in\mathbb{N}$
%$$
% \rho(H)=\frac{l_1+l_2+l_3+s_1+s_2+s_3-x}{l_1+l_2+l_3+s_1+s_2+s_3-2-x}=1+\frac{2}{3\cdot 2^{k-2}+6l+\chi-2-x}>\frac{1}{\alpha}.
%$$
%Таким образом, граф $H$ изоморфен графу $F$, плотность которого равна $\frac{1}{\alpha}$.\\

Пусть $L_n$ --- множество графов в $\Omega_n$, для которых истинна формула $Tr$. Тогда
$$
 {\sf P}(G(n,p)\supset F)\leq {\sf P}(G(n,p)\in L_n)=
 {\sf P}(G(n,p)\in L_n,\,G(n,p)\in\tilde\Omega_n)+
$$
$$
 +{\sf P}(G(n,p)\in L_n,\,G(n,p)\notin\tilde\Omega_n)\leq
 {\sf P}(G(n,p)\supset F)+
 {\sf P}(G(n,p)\notin\tilde\Omega_n).
$$
По теореме~\ref{first} имеем
$$
 \lim\limits_{n\rightarrow\infty}{\sf P}(G(n,p)\supset F)=1 - e^{-1/a(F)},\quad
 \lim\limits_{n\rightarrow\infty}{\sf P}(G(n,p)\notin\tilde\Omega_n)=0.
$$
Следовательно,
$$
\lim\limits_{n\rightarrow\infty}{\sf P}(G(n,p)\in L_n) = 1 - e^{-1/a(F)}.
$$
Поэтому $k$-закон нуля и единицы не выполнен. Теорема доказана.


\begin{thebibliography}{99}
\bibitem{Janson} S. Janson, T. \L uczak, A. Rucinski, \emph{Random Graphs},
New York, Wiley, 2000.

\bibitem{Uspekhi} М.Е. Жуковский, А.М. Райгородский, \emph{Случайные графы: модели и предельные характеристики}, Успехи математических наук,  \textbf{70}(1): 35--88, 2015.

\bibitem{Veresh} Н.К. Верещагин, А. Шень, \emph{Языки и исчисления}, Москва,
МЦНМО, 2000.

\bibitem{Zhuk_dan} М.Е. Жуковский, \emph{Законы нуля или единицы для формул первого порядка с ограниченной кванторной глубиной}, Доклады Академии Наук, \textbf{436(1)}: 14--18, 2011.

\bibitem{Zhuk_law} M.E. Zhukovskii, \emph{Zero-one $k$-law}, Discrete Mathematics, {\bf 312}: 1670--1688, 2012.

\bibitem{Zhuk_first} М.Е. Жуковский, {\it Расширение $k$-закона нуля или единицы}, Доклады Академии Наук, {\bf 454}(1):~23--26, 2014.

\bibitem{Zhuk_second} М.Е. Жуковский, {\it О наибольшей критической точке в $k$-законе нуля или единицы}, Математический сборник, 206:4 (2015), 13--34.


\bibitem{Shelah} S. Shelah, J.H. Spencer, \emph{Zero-one laws for sparse random graphs}, J. Amer. Math. Soc., \textbf{1}:97--115, 1988.



\bibitem{Glebskii} Ю.В. Глебский, Д.И. Коган, М.И. Лиогонький, В.А. Таланов, \textit{Объем и доля выполнимости формул узкого исчисления предикатов}, Кибернетика, 1969, \textbf{2}: 17-26.

\bibitem{Fagin} R. Fagin, \textit{Probabilities in finite models}, J.Symbolic Logic, 1976, \textbf{41}: 50-58.

%\bibitem{smth_2015} J.H.~Spencer, M.E.~Zhukovskii, Spectra for random graphs of fixed quantifier depth, distrete mathematics, 2015, submitted.

\bibitem{BolThreshold} B. Bollob\'{a}s, \emph{Threshold functions for small subgraphs}, Math. Proc. Camb. Phil. Soc., \textbf{90}: 197--206, 1981.

\end{thebibliography}


\end{document}

